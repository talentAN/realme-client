(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{KakL:function(e,t,a){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(a("q1tI")),o=a("HTO+"),r=a("w/3o"),i=a("55Ip"),s=l(a("FtsS")),d=l(a("xTqJ")),f=l(a("ylna")),c=l(a("GkiB")),m=l(a("KI6R")),p=l(a("w+nw")),h=l(a("5ohJ")),w=a("DfQ9"),v=n(a("oISp")),C=a("giYa").default;t.default=function(){var e=u.useContext(o.rootContext),t=e.setDiaLog,a=e.user,n=u.useContext(r.requestContext).User,l=a.id,E=w.makeStyles((function(e){return h.default(e)}))(),g=u.useState(""),k=g[0],_=g[1],b=u.useState(""),L=b[0],O=b[1],x=u.useState(""),N=x[0],S=x[1];return"guest"!==l?u.default.createElement(i.Redirect,{to:v.ROOT}):u.default.createElement(p.default,{component:"main",maxWidth:"xs"},u.default.createElement(d.default,null),u.default.createElement("div",{className:E.paper},u.default.createElement("div",{className:E.Logo}),u.default.createElement(m.default,{component:"h1",variant:"h5"},"LifLib"),u.default.createElement("form",{className:E.form,noValidate:!0,method:"post"},u.default.createElement(f.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"用户名",name:"username",autoComplete:"username",value:k,onChange:function(e){_(e.target.value)},autoFocus:!0}),u.default.createElement(f.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:"password",id:"password",value:L,onChange:function(e){O(e.target.value)},autoComplete:"current-password"}),u.default.createElement(f.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"pwdConfirm",label:"确认密码",type:"password",id:"pwdConfirm",value:N,onChange:function(e){S(e.target.value)},autoComplete:"current-password"}),u.default.createElement(s.default,{classes:{root:E.hover},fullWidth:!0,variant:"contained",className:E.submit,onClick:function(){""===k||"guest"===k||""===L||N!==L?t({open:!0,content:"用户名和密码不能为空, 且两次密码输入必须相同",onConfirm:null}):n.register({account:k,password:C.hash(L)}).then((function(e){"success"===e.status?t({open:!0,content:"注册成功, 请登录",onConfirm:function(){window.location.pathname=v.LOGIN}}):t({open:!0,content:"注册失败，用户名重复，请重新注册",onConfirm:function(){_("")}})}))}},"注册"),u.default.createElement(c.default,{container:!0},u.default.createElement(c.default,{item:!0,xs:!0},u.default.createElement(i.Link,{to:v.ABOUT,className:E.link},"千万不要忘记密码！")),u.default.createElement(c.default,{item:!0},u.default.createElement(i.Link,{to:v.LOGIN,className:E.link},"返回登陆"))))))}}}]);
//# sourceMappingURL=RegisterPage~main.751b75a5b50f2705eca7.js.map