(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{eJQ9:function(e,t,a){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(a("q1tI")),u=a("DfQ9"),r=a("55Ip"),i=l(a("FtsS")),s=l(a("xTqJ")),d=l(a("ylna")),f=l(a("GkiB")),c=l(a("KI6R")),m=l(a("w+nw")),p=a("HTO+"),h=a("w/3o"),v=n(a("oISp")),w=a("mTpo"),E=l(a("5ohJ")),g=a("giYa").default;t.default=function(){var e=o.useContext(h.requestContext).User,t=o.useContext(p.rootContext),a=t.user,n=t.setUser,l=t.setDiaLog,C=u.makeStyles((function(e){return E.default(e)}))(),_=o.useState(""),k=_[0],O=_[1],b=o.useState(""),x=b[0],L=b[1];return w.isGuest(a)?o.default.createElement(m.default,{component:"main",maxWidth:"xs"},o.default.createElement(s.default,null),o.default.createElement("div",{className:C.paper},o.default.createElement("div",{className:C.Logo}),o.default.createElement(c.default,{component:"h1",variant:"h5"},"LifLib"),o.default.createElement("form",{className:C.form,noValidate:!0,method:"post"},o.default.createElement(d.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"用户名",name:"username",autoComplete:"email",value:k,onChange:function(e){O(e.target.value)},autoFocus:!0}),o.default.createElement(d.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:"password",id:"password",value:x,onChange:function(e){L(e.target.value)},autoComplete:"current-password"}),o.default.createElement(i.default,{classes:{root:C.hover},fullWidth:!0,variant:"contained",className:C.submit,onClick:function(){""===k||"guest"===k||""===x?l({open:!0,content:"用户名和密码不能为空",onConfirm:null}):e.login({account:k,password:g.hash(x)}).then((function(e){e?n(e):l({open:!0,content:"用户名和密码不匹配，请重新登陆",onConfirm:function(){L("")}})}))}},"登陆"),o.default.createElement(f.default,{container:!0},o.default.createElement(f.default,{item:!0,xs:!0,classes:{root:C.customGrid}},o.default.createElement(r.Link,{to:v.ABOUT,className:C.link},"千万不要忘记密码！")),o.default.createElement(f.default,{item:!0},o.default.createElement(r.Link,{to:v.ROOT,className:C.link},"没有账户?")))))):o.default.createElement(r.Redirect,{to:v.ROOT})}}}]);
//# sourceMappingURL=LoginPage~main.4f65ec3ae65ef2ccbec4.js.map