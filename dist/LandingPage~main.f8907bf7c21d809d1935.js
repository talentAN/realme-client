(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{Da9F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("rWgG"),a=[{key:"int",str:",.0f"},{key:"float",str:",.2f"},{key:"si",str:",.2s"},{key:"percent",str:",.2%"}];t.numFormatter=function(e,t){if(t){var n=a.filter((function(e){return e.key===t}))[0]||a[0];return r.format(a[n.str])(e)}return e<1e3?r.format(a[0].str)(e):e>1e3?r.format(a[2].str)(e):void 0}},EQmU:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI"));n("j4hE");t.default=function(){return a.default.createElement("div",{className:"spinner"})}},IVor:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("q1tI")),l=a(n("iuhU")),i=n("DfQ9"),u=a(n("vS8f")),s=n("w/3o"),c=n("Da9F"),f=i.makeStyles((function(e){return{readed:{width:"100px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.primary.main,borderRadius:e.spacing(1),fontWeight:"bold",border:"solid 1px",cursor:"pointer","&:hover":{backgroundColor:e.palette.primary.light}},customIcon:{marginRight:"2px",fontSize:"1rem",width:"1.2rem",height:"1.2rem"},huged:{backgroundColor:e.palette.primary.main,color:e.palette.text.hint+" !important",border:"transparent !important"}}}));t.default=function(e){var t,n=f({}),r=o.useContext(s.requestContext).Chapter,a=e.id,i=e.is_huged,d=e.num_huged,p=void 0===d?0:d,h=o.useState(i),m=h[0],_=h[1],v=o.useState(p),y=v[0],g=v[1];return o.default.createElement("div",{className:l.default(n.readed,(t={},t[n.huged]=m,t)),onClick:function(){(_(!m),g(m?y-1:y+1),m)||(0,r.hug)(a)}},o.default.createElement(u.default,{classes:{root:l.default(n.customIcon)}}),o.default.createElement("span",null,"hug "+c.numFormatter(y)))}},MCSC:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("q1tI")),l=n("DfQ9"),i=a(n("iuhU")),u=a(n("o6Jd")),s=a(n("mYdW")),c=n("sKgC"),f=l.makeStyles((function(e){return r(r({},c.genBaseStyle(e)),{collapsedText:{display:"flex",justifyContent:"start",alignItems:"center",fontSize:"14px"},customIcon:{marginRight:"2px",fontSize:"1rem",width:"1.2rem",height:"1.2rem"}})}));t.default=function(e){var t=f({}),n=e.setIsShowMore;return o.default.createElement(u.default,{classes:{root:i.default(t.collapsedText,t.hover)},onClick:function(){n(!1)}},o.default.createElement("span",null,"收起"),o.default.createElement(s.default,{classes:{root:t.customIcon}}))}},NF2D:function(e,t,n){(t=n("JPst")(!1)).push([e.i,'.spinner{display:inline-block;width:64px;height:64px}.spinner:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;animation:spinner 0.8s linear infinite}@keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n',""]),e.exports=t},QlKP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={root:{flexGrow:1,display:"flex",maxWidth:n("38SA").ChapterWidth,alignItems:"center",flexDirection:"column"}};t.default=r},WoW7:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n("q1tI")),i=n("DfQ9"),u=o(n("iuhU")),s=o(n("eHCE")),c=o(n("/jZz")),f=o(n("7/eH")),d=o(n("o6Jd")),p=o(n("1iKp")),h=o(n("ZFJ+")),m=o(n("m/hd"));t.default=function(e){var t=i.makeStyles((function(e){return m.default(e)}))(),n=e.chapter,a=n.title,o=n.content,_=l.useState(!1),v=_[0],y=_[1];return l.default.createElement(s.default,{classes:{root:t.customCardRoot}},l.default.createElement(c.default,{title:a}),l.default.createElement(f.default,null,l.default.createElement("div",{className:u.default(t.content,v?t.contentOut:t.contentIn)},o),!v&&l.default.createElement(d.default,{classes:{root:u.default(t.readMore,t.hover)},onClick:function(){y(!0)},size:"medium"},l.default.createElement("span",null,"阅读更多"),l.default.createElement(p.default,null))),l.default.createElement(h.default,r({},n,{is_show_more:v,setIsShowMore:y,actions:["hug","like","collect"]})))}},"ZFJ+":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI")),o=n("DfQ9"),l=r(n("8zEF")),i=r(n("IVor")),u=r(n("iUdQ")),s=r(n("k7HR")),c=r(n("MCSC")),f=o.makeStyles({customActionRoot:{justifyContent:"space-between",alignItems:"center",fontSize:"14px"},actions:{display:"flex",justifyContent:"start",alignItems:"center"}}),d=function(e,t){return t.some((function(t){return t===e}))};t.default=function(e){var t=f({}),n=e.id,r=e.actions,o=e.is_show_more,p=e.setIsShowMore,h=e.num_huged,m=void 0===h?0:h,_=e.num_liked,v=e.num_collected,y=e.is_huged,g=void 0!==y&&y,b=e.is_liked,w=e.is_collected,x=d("hug",r),k=d("like",r),C=d("collect",r);return a.default.createElement(l.default,{classes:{root:t.customActionRoot}},a.default.createElement("div",{className:t.actions},x&&a.default.createElement(i.default,{id:n,is_huged:g,num_huged:m}),k&&a.default.createElement(u.default,{id:n,is_liked:b,num_liked:_}),C&&a.default.createElement(s.default,{id:n,is_collected:w,num_collected:v})),o&&a.default.createElement(c.default,{setIsShowMore:p}))}},bq4L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("38SA");t.default=function(e){return{root:{flexGrow:1,minWidth:r.LandingContainerMinWidth,padding:e.spacing(2),display:"flex",justifyContent:"center",backgroundColor:e.palette.background.paper},content:{flexGrow:1,display:"flex",justifyContent:"space-between",maxWidth:r.LandingContainerMinWidth}}}},iNau:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("q1tI")),l=n("DfQ9"),i=a(n("EQmU")),u=a(n("WoW7")),s=a(n("QlKP"));t.default=function(e){var t=l.makeStyles(s.default)(),n=e.chapters,r=e.loading,a=e.actions;return o.default.createElement("div",{className:t.root},n.map((function(e,t){return o.default.createElement(o.Fragment,{key:t},o.default.createElement(u.default,{chapter:e,actions:a}))})),r&&o.default.createElement(i.default,null))}},iUdQ:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n("q1tI")),i=o(n("iuhU")),u=n("DfQ9"),s=o(n("o6Jd")),c=n("GB9c"),f=n("sKgC"),d=n("HTO+"),p=n("w/3o"),h=n("oISp"),m=n("mTpo"),_=u.makeStyles((function(e){return r(r({},f.genBaseStyle(e)),{collapsedText:{display:"flex",justifyContent:"start",alignItems:"center",fontSize:"14px"},selected:{color:e.palette.primary.main},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",width:"19.19px",height:"19.19px"}})}));t.default=function(e){var t,n=_({}),r=l.useContext(d.rootContext).user,a=l.useContext(p.requestContext).Chapter,o=e.is_liked,u=e.id,f=l.useState(o),v=f[0],y=f[1];return l.default.createElement(s.default,{classes:{root:i.default(n.collapsedText,n.hover,(t={},t[n.selected]=v,t))},onClick:function(){m.isGuest(r)?window.location.pathname=h.LOGIN:(y(!v),(0,a[v?"cancelLike":"like"])(u))}},l.default.createElement("div",{dangerouslySetInnerHTML:{__html:c.LikeSvg},className:n.iconWrapper}),l.default.createElement("span",null,"like"))}},j4hE:function(e,t,n){var r=n("LboF"),a=n("NF2D");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},k7HR:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n("q1tI")),i=o(n("iuhU")),u=n("DfQ9"),s=o(n("o6Jd")),c=n("w/3o"),f=n("HTO+"),d=n("GB9c"),p=n("sKgC"),h=n("mTpo"),m=n("oISp"),_=u.makeStyles((function(e){return r(r({},p.genBaseStyle(e)),{collapsedText:{display:"flex",justifyContent:"start",alignItems:"center",fontSize:"14px"},selected:{color:e.palette.primary.main},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",width:"19.19px",height:"19.19px"}})}));t.default=function(e){var t,n=_({}),r=l.useContext(f.rootContext).user,a=l.useContext(c.requestContext).Chapter,o=e.is_collected,u=e.id,p=l.useState(o),v=p[0],y=p[1];return l.default.createElement(s.default,{classes:{root:i.default(n.collapsedText,n.hover,(t={},t[n.selected]=v,t))},onClick:function(){h.isGuest(r)?window.location.pathname=m.LOGIN:(y(!v),(0,a[v?"cancelCollect":"collect"])(u))}},l.default.createElement("div",{dangerouslySetInnerHTML:{__html:d.CollectSvg},className:n.iconWrapper}),l.default.createElement("span",null,"collect"))}},"m/hd":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("sKgC"),o=n("38SA");t.default=function(e){return r(r({},a.genBaseStyle(e)),{customCardRoot:{maxWidth:o.ChapterWidth,marginBottom:e.spacing(1),backgroundColor:e.palette.background.default},content:{wordWrap:"break-word",wordBreak:"break-all",width:Number.parseInt(o.ChapterWidth)-32+"px"},contentIn:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkitBoxOrient":"vertical","-webkitLineClamp":4},contentOut:{display:"-webkit-box","-webkitBoxOrient":"vertical","-webkitLineClamp":100},readMore:{float:"right",fontSize:"14px"}})}},umMp:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("q1tI")),l=a(n("iuhU")),i=n("DfQ9"),u=n("sKgC"),s=a(n("eHCE")),c=n("kSOs");t.default=function(){var e=i.makeStyles((function(e){return r(r({},u.genBaseStyle(e)),{root:{position:"fixed",right:"10px",bottom:"10px",width:"50px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{width:"40px",height:"40px",margin:"5px",backgroundPosition:"center",backgroundRepeat:"no-repeat","&:hover":{}}})}))();return o.default.createElement(s.default,{classes:{root:e.root}},c.CornerButtonsConfig.map((function(t,n){var r,a=t.svg,i=t.onClick,u=t.linkTo,s=void 0===u?"":u;return s&&(r=function(){return window&&window.open(s),!1}),o.default.createElement("div",{key:n,className:l.default(e.button,e.hover),style:{backgroundImage:a},onClick:s?r:i})})))}},w1ej:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,a++)r[a]=o[l];return r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n("q1tI")),s=n("DfQ9"),c=i(n("iNau")),f=i(n("Eulz")),d=i(n("cf13")),p=i(n("GNAn")),h=i(n("C+tu")),m=i(n("4bKd")),_=i(n("umMp")),v=n("w/3o"),y=i(n("bq4L")),g=n("7oYZ");t.default=function(){var e=s.makeStyles(y.default)(),t=function(e){var t=u.useState(!1),n=t[0],l=t[1],i=u.useState([]),s=i[0],c=i[1],f=u.useState(0),d=f[0],p=f[1],h=u.useCallback((function(t){return r(void 0,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,e({limit:g.len_query,offset:t})];case 1:return(n=r.sent())&&c((function(e){return o(e,n)})),l(!1),[2]}}))}))}),[e]);return u.useEffect((function(){l(!0),h(d)}),[d]),{loading:n,chapters:s,setOffset:p}}(u.useContext(v.requestContext).Chapter.queryList),n=t.loading,l=t.chapters,i=t.setOffset;return u.useEffect((function(){var e=function(){var e=document.documentElement.clientHeight;if(document.documentElement.scrollHeight===e+document.documentElement.scrollTop){var t=l.length;i(t)}};return window.addEventListener("scroll",e),window.addEventListener("mousewheel",e),function(){window.removeEventListener("scroll",e),window.removeEventListener("mousewheel",e)}}),[l]),u.default.createElement("div",{className:e.root},u.default.createElement("div",{className:e.content},u.default.createElement(c.default,{loading:n,chapters:l,actions:[]}),u.default.createElement(f.default,null,u.default.createElement(d.default,null),u.default.createElement(p.default,null),u.default.createElement(h.default,null),u.default.createElement(m.default,null))),u.default.createElement(_.default,null))}}}]);
//# sourceMappingURL=LandingPage~main.f8907bf7c21d809d1935.js.map