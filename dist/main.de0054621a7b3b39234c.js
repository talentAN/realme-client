(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"2YZa":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("q1tI")),l=a(n("i8i4")),u=a(n("HG3P")),i=o(n("Z69r"));l.default.render(r.default.createElement(u.default,null),document.getElementById("root")),i.unregister()},"3HrO":function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("q1tI")),l=n("DfQ9"),u=o(n("iuhU")),i=n("55Ip"),c=n("HTO+"),s=n("kSOs"),f=o(n("BvTd")),d=o(n("I2iC")),m=o(n("X6bi")),h=o(n("bSwy")),p=o(n("rWz3")),v=o(n("o6Jd")),g=o(n("cKhP")),_=o(n("cjet")),E=o(n("tbux")),b=o(n("RXNQ")),y=o(n("7mLV")),O=o(n("7FDG")),w=o(n("i7oR")),R=o(n("36Cw")),I=o(n("EsW8")),C=n("mTpo"),k=a(n("oISp"));t.default=i.withRouter((function(e){var t=l.makeStyles((function(e){return I.default(e)}))(),n=r.useContext(c.rootContext),a=n.user,o=n.setGuest,x=r.useState(!1),P=x[0],M=x[1],T=r.useRef(null),S=e.history.location.pathname,j=S===k.HOTS?S:k.ROOT,L=r.useState(j),H=L[0],N=L[1];return r.useEffect((function(){var e=document.body,t=document.getElementById("root")||document.createElement("div"),n=function(e){t.contains(e.currentTarget)||M(!1)};return e.addEventListener("click",n),function(){e.removeEventListener("click",n)}}),[]),r.default.createElement("div",{className:t.root},r.default.createElement(f.default,{position:"static",classes:{root:t.muiRoot}},r.default.createElement(d.default,{className:t.toolBar},r.default.createElement(R.default,{color:"textPrimary",title:"",component:i.Link,to:k.ROOT},r.default.createElement("div",{className:t.logo})),r.default.createElement("div",{className:t.navAndSearch},r.default.createElement(g.default,{value:H,onChange:function(t,n){e.history.push(n),N(n)},classes:{indicator:t.tabs}},r.default.createElement(_.default,{classes:{root:t.customTabRoot,selected:t.selectedTab},label:"首页",value:k.ROOT}),r.default.createElement(_.default,{classes:{root:t.customTabRoot,selected:t.selectedTab},label:"发现",value:k.EXPLORE})),r.default.createElement(m.default,{className:t.searchRoot},r.default.createElement(p.default,{className:t.input,placeholder:"Search",inputProps:{"aria-label":"search google maps"}}),r.default.createElement(v.default,{"aria-label":"search",classes:{root:t.customIconRoot}},r.default.createElement(h.default,null)))),r.default.createElement(v.default,{className:t.menuButton,ref:T,onClick:function(){C.isGuest(a)?e.history.push(k.LOGIN):M(!0)}},r.default.createElement(w.default,null)),r.default.createElement(E.default,{classes:{paper:t.customMenu},anchorEl:T.current,open:P},s.AppHeaderProfileMenu.map((function(n,l){var i=n.label,c=n.icon,s=n.link,f=n.onClick;return r.default.createElement(b.default,{key:l,classes:{root:u.default(t.customMenuItem,t.hover)},onClick:function(){if(M(!1),s)return N(!1),void("string"==typeof s?e.history.push(s):e.history.push(s(a.id)));f(o),e.history.push(k.LOGIN)}},r.default.createElement(y.default,{classes:{root:t.customListItemIcon}},r.default.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),r.default.createElement(O.default,{primary:i}))}))))))}))},EsW8:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n("sKgC"),l=n("38SA"),u=o(n("6BYw"));t.default=function(e){return a(a({},r.genBaseStyle(e)),{root:{maxHeight:l.NavHeight,position:"fixed",width:"100%",zIndex:100},muiRoot:{backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",height:l.NavHeight},toolBar:{margin:"auto",width:"100%",maxWidth:l.NavWidth,height:l.NavHeight+" !important",display:"flex",justifyContent:"space-between",alignItems:"center"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{background:"url("+u.default+") no-repeat center",width:"80px",height:"48px"},tabs:{backgroundColor:e.palette.background.default},searchRoot:{padding:e.spacing(0,1),height:"30px",display:"flex",alignItems:"center",width:300},customIconRoot:{padding:0},navAndSearch:{display:"flex",justifyContent:"start",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},divider:{margin:4},customTabRoot:{minWidth:"20px",marginRight:"20px"},customMenu:{top:l.NavHeight+" !important",width:l.PopOverRootWidth},customMenuItem:{fontSize:"14px",lineHeight:1,height:l.PopOverElementHeight,minHeight:l.PopOverElementHeight},customListItemIcon:{minWidth:0,marginRight:e.spacing(2),color:"currentColor"}})}},HG3P:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("q1tI")),r=a(n("w/3o")),l=a(n("HTO+")),u=a(n("eLnN"));t.default=function(){return o.default.createElement(l.default,null,o.default.createElement(r.default,null,o.default.createElement(u.default,null)))}},Q2FL:function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("q1tI")),l=n("HTO+"),u=o(n("HhgX")),i=o(n("jlMd")),c=o(n("ti9b")),s=o(n("KI6R")),f=o(n("FtsS"));t.default=function(e){var t=e.open,n=void 0!==t&&t,a=e.content,o=void 0===a?"":a,d=e.onConfirm,m=e.isCancelable,h=void 0!==m&&m,p=r.useContext(l.rootContext).setDiaLog,v=function(){d(),p({open:!1,content:"",onConfirm:null,isCancelable:!1})};return r.default.createElement(u.default,{onClose:v,"aria-labelledby":"customized-dialog-title",open:n},r.default.createElement(i.default,{dividers:!0},r.default.createElement(s.default,{gutterBottom:!0},o)),r.default.createElement(c.default,null,r.default.createElement(f.default,{onClick:v,color:"default"},"确认"),h&&r.default.createElement(f.default,{onClick:function(){p({open:!1,content:"",onConfirm:null,isCancelable:!1})},color:"default"},"取消")))}},Z69r:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t.register=function(t){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var o=e.env.PUBLIC_URL+"/service-worker.js";n?(!function(e,t){fetch(e).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(o,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):a(o,t)}))}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,n("8oxB"))},eLnN:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n("q1tI")),u=n("55Ip"),i=n("HTO+"),c=r(n("eJQ9")),s=r(n("KakL")),f=r(n("zH9k")),d=r(n("Q2FL")),m=n("04ZO"),h=r(n("xTqJ")),p=n("sKgC"),v=o(n("oISp"));t.default=function(){var e=l.useContext(i.rootContext),t=e.dialog,n=e.theme;return l.default.createElement(m.ThemeProvider,{theme:p.ThemeMap.get(n)},l.default.createElement(h.default,null),l.default.createElement(u.BrowserRouter,null,l.default.createElement(u.Switch,null,l.default.createElement(u.Route,{path:v.LOGIN,component:c.default}),l.default.createElement(u.Route,{path:v.REGISTER,component:s.default}),l.default.createElement(u.Route,{path:v.ROOT,component:f.default})),l.default.createElement(d.default,a({},t))))}},"i+e+":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("q1tI"));t.default=function(){return o.default.createElement("div",{className:"404"},"I am the 404 page")}},zH9k:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("q1tI")),l=n("55Ip"),u=n("DfQ9"),i=a(n("3HrO")),c=a(n("w1ej")),s=a(n("0B6I")),f=a(n("KmlA")),d=a(n("v9Oz")),m=a(n("i+e+")),h=o(n("oISp"));t.default=function(){var e=u.useTheme();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.default,null),r.default.createElement("div",{style:{flexGrow:1,marginTop:e.spacing(6)+"px",display:"flex",justifyContent:"center"}},r.default.createElement(l.Switch,null,r.default.createElement(l.Route,{path:h.DRAFT,component:s.default}),r.default.createElement(l.Route,{path:"/draft/:draftID/edit",component:f.default}),r.default.createElement(l.Route,{path:h.WRITE,component:f.default}),r.default.createElement(l.Route,{path:h.ABOUT,component:d.default}),r.default.createElement(l.Route,{exact:!0,path:h.ROOT,component:c.default}),r.default.createElement(l.Route,{component:m.default}))))}}},[["2YZa",23,14,0,20,18,16,19,17,21,1,2,3,4,5,7,8,9,10,11,12,13,6,15,22,25,26,29,37,32,33,34,35,36,38,39,40,41,42,55,52,58,51,49,50,53,54,56,57,24,27,28,30,31,46,45,44,43,47,48]]]);
//# sourceMappingURL=main.de0054621a7b3b39234c.js.map