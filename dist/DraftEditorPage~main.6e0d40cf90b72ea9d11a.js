(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{KmlA:function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n("q1tI")),i=o(n("MZof")),r=n("w/3o"),l=n("F5tz");e.default=function(){var t=u.useContext(r.requestContext).Draft,e=u.useState(""),n=e[0],a=e[1];return u.useEffect((function(){t.add({id:l.genID()}).then((function(t){t&&"success"===t.status&&a(t.id)}))}),[]),u.default.createElement(i.default,{id:n,title:"",content:""})}},MZof:function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n("q1tI")),i=n("DfQ9"),r=o(n("ylna")),l=o(n("rmP6")),s=o(n("FtsS"));n("91UR");var c=n("w/3o"),f=n("38SA"),d=n("F5tz"),m=n("oISp"),h=i.makeStyles((function(t){return{root:{display:"flex",flexDirection:"column",margin:t.spacing(6,0),width:f.WriteEditorWidth},textFieldRoot:{marginBottom:t.spacing(1)}}}));e.default=function(t){var e=i.useTheme(),n=u.useContext(c.requestContext).Draft,a=h({}),o=t.id,f=t.title,p=void 0===f?"":f,v=t.content,_=void 0===v?"":v,w=u.useState(p),g=w[0],x=w[1],y=u.useState(_),E=y[0],S=y[1],b=u.useRef(d.debounce(n.update,1e3));u.useEffect((function(){b.current({id:o,title:g,content:E})}),[g,E]);return u.default.createElement("div",{className:a.root},u.default.createElement(r.default,{value:g,onChange:function(t){return x(t.target.value)},variant:"outlined",placeholder:"请输入标题，最多50个字",classes:{root:a.textFieldRoot}}),u.default.createElement(l.default,{theme:"snow",value:E,onChange:S,style:{marginBottom:e.spacing(8),minHeight:"50%",maxHeight:"80%"}}),u.default.createElement(s.default,{onClick:function(){n.publish(o).then((function(t){t&&"success"===t.status&&(window.location.pathname=m.CHAPTER+"/"+t.id)}))},variant:"contained",color:"primary"},"发布"))}}}]);
//# sourceMappingURL=DraftEditorPage~main.6e0d40cf90b72ea9d11a.js.map